<!DOCTYPE html>

<html>
<head>
<title>pySOT Dashboard</title>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.8/socket.io.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="style.css">



<script type="text/javascript">
/*This function toggle shows and hides the section with given ID.*/
  function showHide(shID) {
  if (document.getElementById(shID)) {
    if (document.getElementById(shID+'-show').style.display != 'none') {
      document.getElementById(shID+'-show').style.display = 'none';
      document.getElementById(shID).style.display = 'block';
    }
    else {
      document.getElementById(shID+'-show').style.display = 'inline';
      document.getElementById(shID).style.display = 'none';
    }
  }
}

</script>
</head>


<body>

  <div class="section" id="welcome-to-pysot-dashboard-s-documentation">
    <h1>PySOT Dashboard<a class="headerlink" href="#welcome-to-pysot-dashboard-s-documentation" title="Permalink to this headline">Â¶</a></h1>
  </div>

  <p> This is the Optimization Problem Section. 
  <a href="#" id="outprob-show" class="showLink" 
  onclick="showHide('outprob');return false;">Expand this section.</a>
  </p>
  <div id="outprob" class="more">

    <!-- <p>...This outprob content is hidden by default...</p> -->
    <p><a href="#" id="outprob-hide" class="hideLink" 
    onclick="showHide('outprob');return false;">Hide this section.</a>
    </p>    

    <form>
    <p>Select from an existing method.</p>
    <select id="objfunct" onChange="setvaloutprob()";>
        <option selected disabled>Choose Here</option>
        <option>Rastrigin</option>
        <option>Levy</option>
        <option>Schwefel</option>
        <option>Quartic</option>
        
        <option>Exponential</option>
        <option>Hartman6</option>
        <option>Whitley</option>
        <option>Hartman3</option>
        
        <option>LinearMI</option>
        <option>Rosenbrock</option>
        <option>Sphere</option>
        <option>SchafferF7</option>
        <option>Griewank</option>
        <option>Ackley</option>
        <option>StyblinskiTang</option>
        <option>Keane</option>          
        <option>Michalewicz</option>
    </select>
    <p>
      <p>Attributes</p>
      dim <input type="text" name="opt_dim" id="opt_dim"/><br/>
    </p>
 
    
  </form>

  <script type="text/javascript">
  /* This function is kept for testing the format of the values sending to backend.
   * It should make and display JSON for Optimization Problem only. */
    function make_json_outprob(form){
      var json={
        "dim":form.opt_dim.value,
        "objfunct":form.objfunct.value
      };
      var html = JSON.stringify(json, 0, 4);
      document.getElementById('outputoptprob').innerHTML=html;
      return false;
    }
  </script>

  <script type="text/javascript" src="sample.json"></script>
  <script type="text/javascript">
  /* Parse the JSON file given from backend, and fill in the default values. Currently using the sample.json file,
   * should be changed to taking input JSON file from server. */
    function setvaloutprob(){
      var input = JSON.parse(data);
      var method = document.getElementById("objfunct").value;
      document.getElementById("opt_dim").value = input[0]["optimization_problem"][method][1];;
      
    }
  </script>
  </div>





  <p>This is the Controller section. 
  <a href="#" id="controller-show" class="showLink" 
  onclick="showHide('controller');return false;">Expand this section.</a>
  </p>

  <div id="controller" class="more">
    <!-- <p>...This CONTROLLER content is hidden by default...</p> -->
    <p><a href="#" id="controller-hide" class="hideLink" 
      onclick="showHide('controller');return false;">Hide this section.</a>
    </p>
    <form>
    <p>
      <p>Select a Controller</p>
        <select name="controller" id="controller" onChange="setvalcontroller();">
          <option selected disabled>Choose Here</option>
          <option>SimTeamController</option>
          <option>SerialController</option>
          <option>ThreadController</option>
          <option>ScriptedController</option>
          <option>Controller</option>
        </select>
    </p>
    </form>

    <script type="text/javascript">
  /* This function is kept for testing the format of the values sending to backend.
   * It should make and display JSON for Controller only. */
      function make_json_controller(form){
        var json={ 

          "controller":form.controller.value
        };
        var html = JSON.stringify(json, 0, 4);
        document.getElementById('outputcontroller').innerHTML=html;

        return false;
      }
    </script>

    <script type="text/javascript" src="sample.json"></script>
    <script type="text/javascript">
      /* Parse the JSON file given from backend, and fill in the default values. Currently using the sample.json file,
   * should be changed to taking input JSON file from server. */
      function setvalcontroller(){

        var input = JSON.parse(data);
        var method = document.getElementById("controller").value
            
      }
    </script>

  </div>


  <p>This is the Adaptive Sampling Section.
  <a href="#" id="adaptsample-show" class="showLink" 
  onclick="showHide('adaptsample');return false;">Expand this section.</a>
  </p>
  <div id="adaptsample" class="more">
    <!-- <p>...This adaptsample content is hidden by default...</p> -->
      <p><a href="#" id="adaptsample-hide" class="hideLink" 
      onclick="showHide('adaptsample');return false;">Hide this section.</a></p>
    <form>
      <p>Select from an existing method.</p>
        <select id="adapt_funct" onChange="setvaladapt();">
          <option selected disabled>Choose Here</option>
          <option>CandidateDDS_INT</option>
          <option>CandidateDDS</option>
          <option>CandidateUniform_INT</option>
          <option>CandidateDYCORS_CONT</option>
          <option>CandidateSRBF</option>
          <option>GeneticAlgorithm</option>
          <option>CandidateDYCORS_INT</option>
          <option>CandidateDYCORS</option>
          <option>CandidateSRBF_INT</option>
          <option>MultiStartGradient</option>
          <option>CandidateUniform_CONT</option>
          <option>CandidateDDS_CONT</option>
          <option>CandidateUniform</option>
          <option>CandidateSRBF_CONT</option>
          <option>MultiSampling</option>
        </select>

      <p>
        <p>Attributes</p>
        numcand <input type="text" name="numcand" id="numcand"/><br/>
        weights <input type="text" name="weights" id="weights"/><br/>
      </p>
    </form>

    <script type="text/javascript">
  /* This function is kept for testing the format of the values sending to backend.
   * It should make and display JSON for Adaptive Sampling only. */
      function make_json_adapt(form){

        var json={
          "numcand":form.numcand.value,
          "weights":form.weights.value,
          "function":form.adapt_funct.value
        };
        var html = JSON.stringify(json, 0, 4);
        document.getElementById('output_adapt').innerHTML=html;
        return false;
      }
    </script>

    <script type="text/javascript" src="sample.json"></script>
    <script type="text/javascript">
      /* Parse the JSON file given from backend, and fill in the default values. Currently using the sample.json file,
   * should be changed to taking input JSON file from server. */
      function setvaladapt(){
        var input = JSON.parse(data);
        var method = document.getElementById("adapt_funct").value

        document.getElementById("numcand").value = input[0]["adaptive_sampling"][document.getElementById("adapt_funct").value][1][0];
        document.getElementById("weights").value = input[0]["adaptive_sampling"][document.getElementById("adapt_funct").value][1][1];
      }
    
    </script>
  </div>






  <p>This is the Experimental Design Section.
  <a href="#" id="expdesign-show" class="showLink" 
  onclick="showHide('expdesign');return false;"> Expand this section.</a>
  </p>
  <div id="expdesign" class="more">
<!--   <p>...This expdesign content is hidden by default...</p> -->
    <p><a href="#" id="expdesign-hide" class="hideLink" 
    onclick="showHide('expdesign');return false;">Hide this content.</a></p>
      
    <form>
      <p>Select from an existing method.</p>
        <select name="experimental_design" id="experimental_design" onChange="setvalexp();">
          <option selected disabled>Choose Here</option>
          <option>LatinHypercube</option>
          <option>SymmetricLatinHypercube</option>
          <option>TwoFactorial</option>
          <option>BoxBehnken</option>
        </select>
      <p>
        <p>Attributes</p>
        dim <input type="text" name="exp_dim" id="exp_dim"/><br/>
        npts <input type="text" name="npts" id="npts"/><br/>
        criterion <input type="text" name="criterion" id="criterion" disabled/><br/>
      </p>
    </form>

    <script type="text/javascript">
  /* This function is kept for testing the format of the values sending to backend.
   * It should make and display JSON for Experimental Design only. */
      function make_json_expdesign(form){
        var json={
          
          "experimental_design":form.experimental_design.value,
          "dim":form.exp_dim.value,
          "npts":form.npts.value,
          "criterion":form.criterion.value

        };
        var html = JSON.stringify(json, 0, 4);
        document.getElementById('outputexpdesign').innerHTML=html;

        return false;
      }
    </script>

    <script type="text/javascript" src="sample.json"></script>
    <script type="text/javascript">
      /* Parse the JSON file given from backend, and fill in the default values. Currently using the sample.json file,
   * should be changed to taking input JSON file from server. */
      function setvalexp(){
        var input = JSON.parse(data);
        var method = document.getElementById("experimental_design").value

        if (method == "LatinHypercube"){
          document.getElementById("criterion").disabled = false;
        }
        
        document.getElementById("exp_dim").value = input[0].experimental_design.BoxBehnken[1];
        document.getElementById("npts").value = input[0].experimental_design.BoxBehnken[1];

      }

    </script>
  </div>




    <p>This is the Strategy section.  
    <a href="#" id="strategy-show" class="showLink" 
    onclick="showHide('strategy');return false;">Expand this section.</a>
  </p>
  <div id="strategy" class="more">

<!--     <p>This strategy content is hidden by default...</p> -->
      <p><a href="#" id="strategy-hide" class="hideLink" 
      onclick="showHide('strategy');return false;">Hide this section.</a>
    </p>
<!--     PASTE CONTENT HERE -->
    <form>
    <p>
      <p>Select an Strategy</p>
        <select name="strategy" id="objfunct" onChange="setvalstrategy();">
          <option selected disabled>Choose Here</option>
          <option>SyncStrategyNoConstraints</option>
          <option>SyncStrategyPenalty</option>
          <option>SyncStrategyProjection</option>
        </select>
    </p>
  </form>

  <script type="text/javascript">
    /* This function is kept for testing the format of the values sending to backend.
   * It should make and display JSON for Strategy only. */
    function make_json_strategy(form){
      var json={ 
        "strategy":form.strategy.value, 
      };
      var html = JSON.stringify(json, 0, 4);
      document.getElementById('output_strategy').innerHTML=html;
      return false;
    }
  </script>
  <script type="text/javascript">
    /* Parse the JSON file given from backend, and fill in the default values. Currently using the sample.json file,
   * should be changed to taking input JSON file from server. */
    function setvalstrategy(){

    }
  </script>
  </div>






  <p>This is the Surrogate Model Section.
  <a href="#" id="surmodel-show" class="showLink" 
  onclick="showHide('surmodel');return false;">Expand this section.</a>
  </p>
  <div id="surmodel" class="more">

<!--     <p>...This surmodel content is hidden by default...</p> -->
      <p><a href="#" id="surmodel-hide" class="hideLink" 
      onclick="showHide('surmodel');return false;">Hide this section.</a></p>
    

    <form onsubmit="return make_json(this);">

      <p>Select from an existing method.</p>
      <select id="surmodel_funct" onChange="setvalsurmodel()";>
        <option selected disabled>Choose Here</option>
        <option>RBFInterpolant</option>
      </select>

      <p>
        <p>Attributes</p>
        maxp <input type="text" name="maxp" id="maxp"/><br/>
        eta <input type="text" name="eta" id="eta"/><br/>
      </p>


      <p>Select a kernel.</p>
      <select name="kernel" id="kernel">
          <option selected disabled>Choose Here</option>
          <option>LinearKernel</option>
          <option>TPSKernel</option>
          <option>CubicKernel</option>
      </select>


      <p>Select a tail.</p>
        <select name="tail" id="tail">
          <option selected disabled>Choose Here</option>
          <option>ConstantTail</option>
          <option>LinearTail</option>
      </select>

      <input type="submit" value="Generate Result"/>
    </form>

    <pre id="output">
      Save the answer and generate result.
    </pre>

    <script type="text/javascript">
  /* This function is kept for testing the format of the values sending to backend.
   * It should make and display JSON for Surrogate Model only. */
      function make_json_surmodel(form){
        var json={
          "maxp":form.maxp.value,
          "eta":form.eta.value,
          "kernel":form.kernel.value,
          "tail":form.tail.value,
          "surmodel_funct":form.surmodel_funct.value
        };
        var html = JSON.stringify(json, 0, 4);
        document.getElementById('outputsurmodel').innerHTML=html;
        return false;
      }
    </script>

    <script type="text/javascript" src="sample.json"></script>
    <script type="text/javascript">
      /* Parse the JSON file given from backend, and fill in the default values. Currently using the sample.json file,
   * should be changed to taking input JSON file from server. */
      function setvalsurmodel(){
        var input = JSON.parse(data);
        var method = document.getElementById("surmodel_funct").value;
        document.getElementById("maxp").value = input[0]["surrogate_model"][method][1][2];;
        document.getElementById("eta").value = input[0]["surrogate_model"][method][1][3];;

        document.getElementById("kernel").value = input[0]["surrogate_model"][method][1][0];;
        document.getElementById("tail").value = input[0]["surrogate_model"][method][1][1];;
      }
    </script>



<!--     Comment out this make_json function to disable displaying JSON on the client page.  -->
    <script type="text/javascript">
      function make_json(form){
        var json={
          "optimization_problem":{"function": document.getElementById("objfunct").value, "dim":document.getElementById("opt_dim").value},
          "experimental_design": { "function" : document.getElementById("experimental_design").value, "dim" : document.getElementById("exp_dim").value, "npts":  document.getElementById("npts").value, "criterion":document.getElementById("criterion").value}, 

          "surrogate_model" : { "function" : document.getElementById("surmodel_funct").value, "maxp" : document.getElementById("maxp").value, "eta": document.getElementById("eta").value, "tail" : document.getElementById("tail").value, "kernel" : document.getElementById("kernel").value} , 

          "adaptive_sampling" : { "function" : document.getElementById("adapt_funct").value, "numcand" : document.getElementById("numcand").value, "weights" : document.getElementById("weights").value} , 

          "controller" : { "function" :  document.getElementById("controller").value} , 

          "strategy" : { "function" : document.getElementById("strategy").value} 

        }
        var html = JSON.stringify(json, 0, 4);
        document.getElementById('output').innerHTML=html;
        return false;
      }
    </script>
  </div>


  <p>Link to the result.
  <a href="#" id="result-show" class="showLink" 
  onclick="showHide('result');return false;">Expand this section.</a>
  </p>

  <div id="result" class="more">
    <!-- <p>...This CONTROLLER content is hidden by default...</p> -->
    <p><a href="#" id="result-hide" class="hideLink" 
      onclick="showHide('result');return false;">Hide this section.</a>
    </p>


    <ul>
      <li><a href="bokeh_img.html">Display the Result.</a></li>
      
    </ul>


  </div>






  <script type="text/javascript">
  $(document).ready(function() {
  var run_options = '{ "optimization_problem" : {"function" : "Ackley" , "dim" : 10} , "experimental_design" : { "function" : "SymmetricLatinHypercube" , "dim" : 10, "npts" : 21 } , "surrogate_model" : { "function" : "RBFInterpolant" , "maxp" : 500 , "tail" : "LinearTail" , "kernel" : "CubicKernel" } , "adaptive_sampling" : { "function" : "CandidateDYCORS" , "numcand" : 100 } , "controller" : { "function" : "SerialController" } , "strategy" : { "function" : "SyncStrategyNoConstraints" , "nsamples" : 1 , "proj_fun" : "projection" } }';



  var socket = io.connect('http://127.0.0.1:5000');
  socket.on('connect', function() {
    $("#log").html("");
    $('#log').append('<br>' + 'Sending Request');
    socket.send('User has connected!');
  });
  socket.on('message', function(msg) {
    $("#messages").append('<li>'+msg+'</li>');
    $('#log').append('<br>' + msg);
    console.log('Received message');
  });
  socket.on('abc', function(msg) {
    $("#messages").append('<li>'+msg+'</li>');
    $('#log').append('<br>' + msg);
    console.log('Received message');
  });
  $('#sendbutton').on('click', function() {
    socket.send($('#myMessage').val());
    $('#myMessage').val('');
  });
  $('button#clear_log').click(function() {
    $("#log").html("");
  });
  $('button#run').click(function() {
    socket.emit('run',run_options);
  });
    $('button#terminate').click(function() {
    socket.emit('terminate_experiment','terminate_ happened');
  });
});


</script>
<form id='connect' action='#'>
      <input type="text" id="myMessage">
</form>

<button id="sendbutton">Send</button>

<button id='clear_log'>Clear log</button>
<button id='run'>Run</button>
<button id='terminate'>Terminate</button> 

<h2>Receive:</h2>
<div id="log"></div>

  


</body>
</html>





















